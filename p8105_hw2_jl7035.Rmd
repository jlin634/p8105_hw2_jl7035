---
title: "P8105_hw2_jl7035"
author: "Jeffrey Lin"
date: "2024-10-02"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


# Load Necessary Libraries
```{r}
library(tidyverse)
```

# Problem 1

Load Transit Data
```{r}
NYC_Transit_df <- read_csv(
  "Local_Data_Files/NYC_Transit_Subway_Entrance_And_Exit_Data.csv")

NYC_Transit_df <- 
  NYC_Transit_df %>%
  janitor::clean_names()
  

head(NYC_Transit_df)

```

Inspect Characteristics of the Data Frame
```{r}
nrows_NYC <- nrow(NYC_Transit_df)
nrows_NYC

ncols_NYC <- ncol(NYC_Transit_df)
ncols_NYC

col_names_NYC <- colnames(NYC_Transit_df)
col_names_NYC

```
Selecting the Relevant Columns in the Data Set

```{r}
NYC_Transit_df <- NYC_Transit_df %>%
  select(line, station_name, station_latitude, station_longitude,
         route1:route11, entry, vending, entrance_type, ada)

head(NYC_Transit_df)

NYC_Transit_df <- NYC_Transit_df %>% 
  mutate(across(route8:route11, as.character))
         
head(NYC_Transit_df)
         
```

This dataset contains various information regarding NYC transit. In it's 
current format, after doing a few steps of cleaning, the dimensions of the 
dataset are `r dim(NYC_Transit_df)`. The current variables of interest, based 
on the columns that have been selected are as follows: 
`r colnames(NYC_Transit_df)`. They broadly cover the location of stations, 
as well as the trains that come through each station, and each respective 
station's accessibility. In order to clean this dataset, I first read in the 
data into a dataframe and inspected it with head(), as well as looked at its 
dimensions and column names. Afterwards, I selected the instructed columns and 
once again inspected it through head. There, I noticed that not all route 
columns were standardized to char type, so I did such. After all these steps,
I would still not say this data is tidy. I see some potential issues with 
how the route data is being represented. Looking at it, I wonder if it would 
be better to condense the data into two columns: (1) The route number, (2)
the train on that route. This way, we could avoid large amounts of NA values 
for route numbers that simply don't exist for certain stations.

Determine number of distinct stations
```{r}
NYC_Transit_df <- NYC_Transit_df %>%
  distinct(line, station_name, .keep_all =  TRUE)

```
There are `r nrow(NYC_Transit_df` distinct stations in NYC.


Determine number of ADA Compliant Stations
```{r}
NYC_Transit_df <- NYC_Transit_df %>% 
  filter(ada = TRUE)

```
There are `r nrow(NYC_Transit_df` ADA compliant stations.



```{r}
NYC_Transit_df <- NYC_Transit_df %>% 
  filter(vending ="NO", .keep_all = TRUE) %>% 
  filter()
  
```


Determine number of distinct stations serving the A train

Determine how many of the stations serving the A train are ADA Compliant
